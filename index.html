<!DOCTYPE html>
<html>

  <head>
    <!-- <meta charset='utf-8'> -->
    <!-- <meta http-equiv="X-UA-Compatible" content="chrome=1"> -->
    <!-- <meta name="description" content="Gmail : A mockup web app using Polymer framework ( or library )."> -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.90">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">

    <script src="bower_components/webcomponentsjs/webcomponents.js"></script>
    <link rel="import" href="elements.html">
    <link rel="import" href="route.html">
    <link rel="stylesheet" href="app.css">

    <title>Gmail</title>
  </head>

  <body fullbleed layout vertical fit>


    <template is="auto-binding" id="app">
      <more-route-selector>
            <core-pages selected="{{route}}" fullbleed fit layout vertical>
              <section route="login" >
                  <div id="loginscreen" layout vertical center-center fit
                     class="{{ {show: !isAuthenticated} | tokenList }}">
                  <google-signin width="wide" height="tall"
                      clientId="734681955886-tfnfanpm9kqt60lvjrjqj9mc6emv80qa.apps.googleusercontent.com"
                      scopes="profile email https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/gmail.modify"
                      on-google-signin-success="{{onSigninSuccess}}"
                      on-google-signin-failure="{{onSigninFailure}}"></google-signin>
                  </div>
              </section>
              <section route="inbox" fullbleed fit layout vertical>
                    <core-header-panel flex>
                      <core-toolbar class="toolbar-smaller">
                        <paper-icon-button onclick="toggleDrawer()" icon="menu" id="navicon" >
                        </paper-icon-button> 
                        <div flex> {{heading}}</div>
                        <core-image class="avatar" src="{{user.profile_image}}"></core-image>
<!--                         <google-signin width="wide" height="tall"
                          clientId="734681955886-tfnfanpm9kqt60lvjrjqj9mc6emv80qa.apps.googleusercontent.com"
                          scopes="profile email https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/gmail.modify"
                          on-google-signin-success="{{onSigninSuccess}}"
                          on-google-signin-failure="{{onSigninFailure}}"></google-signin> -->
                      </core-toolbar>




                      <core-drawer-panel id="drawerPanel" >

                        <core-header-panel drawer id="menu">
                            <core-menu class="menu">
                                <paper-item><core-icon class="blue" icon="mail"></core-icon> Inbox</paper-item>
                                <div class="separator"></div>
                                <paper-item><core-icon icon="star"></core-icon> Starred</paper-item>
                                <paper-item><core-icon icon="turned-in"></core-icon> Important</paper-item>
                                <paper-item><core-icon icon="drafts"></core-icon> Drafts</paper-item>
                                <paper-item><core-icon icon="send"></core-icon> Sent</paper-item>
                            </core-menu>
                        </core-header-panel> 
                        <core-header-panel main flex layout vertical>
                          <core-animated-pages  selected="{{main_page}}" transitions="slide-from-right"  flex>
                            <section flex>
                              <core-list  style="min-height:400px;" data="{{threads}}" flex>
                                <template>
                                    <div class="row"  layout horizontal >
                                      <div layout vertical>
                                        <core-image class="avatar" src="{{users[model.messages[0].from.name]}}"></core-image>
                                      </div>
                                      <div layout vertical flex style="cursor:pointer;" onclick="viewEmail({{index}})">
                                        <div style="display:none;">{{index}}</div>
                                        <div style="padding-bottom:10px;font-weight: bold;">{{model.messages[0].from.name}}</div>
                                        <div style="padding-bottom:10px;font-size:14px;font-weight: bold;">{{model.messages[0].subject}}</div>
                                        <div style="padding-bottom:5px;font-size:10px;">{{model.messages[0].snippet}}</div>
                                      </div>
                                  </div>
                                </template>
                              </core-list>
                            </section>
                            <section flex  >
                                <core-header-panel style="min-height:400px;">
                                  <core-toolbar class="toolbar-smaller dark-grey">
                                      <paper-button onclick="goback()">
                                        <core-icon icon="arrow-back" class="icon-with-text"></core-icon>
                                        <span >{{back_content}}</span>
                                      </paper-button>
                                      <div flex>
                                      </div>
                                      <core-icon icon="archive">
                                      </core-icon>
                                      <core-icon icon="report">
                                      </core-icon>
                                      <core-icon icon="delete">
                                      </core-icon>
                                      <core-icon icon="folder">
                                      </core-icon>
                                      <core-icon icon="loyalty">
                                      </core-icon>
                                  </core-toolbar>
                                  <div class="email-header" layout horizontal>
                                    <span flex>
                                    {{email_subject}}
                                    </span>
                                  </div>
                                  <div flex id="email-body-id" class="email-body">
                                    {{email_body}}
                                  </div>
                                  

                                  </core-header-panel>
                                </core-header-panel>
                            </section>
                          </core-animated-pages>
                          



                        </core-header-panel>
                      </core-drawer-panel>

                    </core-header-panel>
              </section>
            </core-pages>
      </more-route-selector>


        
    </template>

  </body>

    <script src="https://apis.google.com/js/client.js"></script>
    <script src="app.js"></script>
</html>
